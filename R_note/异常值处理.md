```R {.line-numbers}
dat2 <- dat %>% 
  group_by(taxa, group) %>% 
  summarise(IQR = IQR(val), q25 = quantile(val, 0.25), q75 = quantile(val, 0.75)) %>% 
  mutate(upper = q75 + 1.5 * IQR, lower = q25 - 1.5 * IQR)

plotdat <- rbind()
for (i in 1:nrow(dat2)) {
  dat_i <- dat %>% 
    subset(group == as.character(unlist(dat2[i, 2])) & taxa == as.character(unlist(dat2[i, 1]))) %>% 
    filter(val >= as.numeric(unlist(dat2[i, 7])) & val <= as.numeric(unlist(dat2[i, 6])))
  plotdat <- rbind(plotdat, dat_i)
}
```